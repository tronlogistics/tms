{% extends "layout.html" %}

{% block content %}
	<div class="row-fluid">
		<div class="box">
			<div class="box-title">
				Actions: &nbsp;&nbsp;<a href="{{ url_for('trucks.edit', truck_id=truck.id) }}" class="btn btn-primary">Edit</a>
			</div>
		</div>
	</div>
	<div class="row-fluid">
	    <div class="col-sm-6">
	    	<div class="panel panel-default">
				<div class="panel-heading">
					<i class="fa fa-external-link-square"></i>
					Truck
				</div>
				<table id="truck" class="table table-condensed">
					<tbody>
						<tr>
							<td><b>Name:</b></td>
							<td>{{ truck.name }}
						</tr>
						<tr>
							<td><b>Trailer Type:</b></td>
							<td>{{ truck.trailer_type }}
						</tr>
						<tr>
							<td><b>Max Weight:</b></td>
							<td>{{ truck.max_weight }}
						</tr>
						<tr>
							<td><b>Length:</b></td>
							<td>{{ truck.dim_length }}
						</tr>
						<tr>
							<td><b>Width:</b></td>
							<td>{{ truck.dim_width }}
						</tr>
						<tr>
							<td><b>Height:</b></td>
							<td>{{ truck.dim_height }}
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div class="col-sm-6">

			<div class="panel panel-default">
	    		<div class="panel-heading">
	        		<i class="fa fa-external-link-square"></i>
	        		DRIVER
	        
	    		</div>
	    	<div class="panel-body">
	    		{% if truck.driver is not none %}
	        		<table id="truck" class="table table-condensed">
						<tbody>
							<tr>
								<td><b>Name:</b></td>
								<td>{{ truck.diver.get_full_name() }}
							</tr>
							<tr>
								<td><b>Phone:</b></td>
								<td>{{ truck.driver.get_phone_number() }}
							</tr>
						</tbody>
					</table>
	        	{% else %}
	        		<form name="assign" action="{{ url_for('fleet.assign') }}" method="post" class="form-horizontal">
	            		{{ form.hidden_tag() }}
	    
	        			<div class="form-group">
							<label class="col-sm-3 control-label" for="driver">
								Assign Driver
							</label>
							<div class="col-sm-9">
								{{ form.truck(value=truck.id, type='hidden') }}
	                            {{ form.driver(class="form-control")}}
							</div>
						</div>
	                	<div class="form-group">
							<div class="col-sm-2 col-sm-offset-3">
								<button class="btn btn-light-grey back-step btn-block">
									<i class="fa fa-circle-arrow-left"></i> Cancel
								</button>
							</div>
							<div class="col-sm-2 col-sm-offset-3">
								<button type="submit" class="btn btn-blue next-step btn-block">
									Submit <i class="fa fa-arrow-circle-right"></i>
								</button>
							</div>
						</div>
	            	</form> 
	        	{% endif %}
			</div>
		</div>
	</div>

				

{% endblock %}