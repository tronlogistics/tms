{% extends "layout.html" %}

{% block content %}
<form name="create" action="" role="form" class="form-horizontal" id="form" method="post">
	{{ form.hidden_tag() }}
	<div id="form-container">
		<!-- start: PAGE CONTENT -->
			<div class="row">
				<div class="col-sm-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-external-link-square"></i>
							General Details<br />

							{{ locations }}
						</div>
						<div class="panel-body">
							<div class="col-sm-10">
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Load # <span class="symbol required"></span>
										{% for error in form.name.errors %}
								            <br><span style="color: red;">{{ error }}</span>
							          	{% endfor %}
									</label>
									<div class="col-sm-7">
										{{ form.name(class="form-control") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Load Type <span class="symbol required"></span>
										{% for error in form.load_type.errors %}
					            <br><span style="color: red;">{{ error }}</span>
					          {% endfor %}
									</label>
									<div class="col-sm-7">
										{{ form.load_type(class="form-control") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Required Trailer <span class="symbol required"></span>
										{% for error in form.trailer_type.errors %}
					            <br><span style="color: red;">{{ error }}</span>
					          {% endfor %}
									</label>
									<div class="col-sm-7">
										{{ form.trailer_type(class="form-control") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Total Miles <span class="symbol required"></span>
										{% for error in form.total_miles.errors %}
					            <br><span style="color: red;">{{ error }}</span>
					          {% endfor %}
									</label>
									<div class="col-sm-7">
										{{ form.total_miles(class="form-control", placeholder="Total Miles") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Max Weight (lbs) <span class="symbol required"></span>
										{% for error in form.max_weight.errors %}
					            <br><span style="color: red;">{{ error }}</span>
					          {% endfor %}
									</label>
									<div class="col-sm-7">
										{{ form.max_weight(class="form-control", placeholder="Max Weight") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Over Dimensional <span class="symbol required"></span>
										{% for error in form.max_weight.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
									</label>
									<div class="col-sm-7">
										<div class="checkbox">
											<label>
												{{ form.over_dimensional(class='grey') }}
											</label>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Max Length <span class="symbol required"></span>
										{% for error in form.max_length.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
								        {% for error in form.max_length_type.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
									</label>
									<div class="col-sm-4">
										{{ form.max_length(class="form-control", placeholder="Max Length") }}
									</div>
									<div class="col-sm-3">
										{{ form.max_length_type(class="form-control") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Max Width <span class="symbol required"></span>
										{% for error in form.max_width.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
								        {% for error in form.max_width_type.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
									</label>
									<div class="col-sm-4">
										{{ form.max_width(class="form-control", placeholder="Max Width") }}
									</div>
									<div class="col-sm-3">
										{{ form.max_width_type(class="form-control") }}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-3 control-label">
										Max Height <span class="symbol required"></span>
										{% for error in form.max_height.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
								        {% for error in form.max_height_type.errors %}
								            <br><span style="color: red;">{{ error }}</span>
								        {% endfor %}
									</label>
									<div class="col-sm-4">
										{{ form.max_height(class="form-control", placeholder="Max Height") }}
									</div>
									<div class="col-sm-3">
										{{ form.max_height_type(class="form-control") }}
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<i class="fa fa-external-link-square"></i>
							Locations
						</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-md-12 space20">
									<button class="btn btn-green add-row">
										Add New <i class="fa fa-plus"></i>
									</button>
								</div>
							</div>
							<div class="table-responsive">
								<table class="table table-striped table-hover" id="sample_2">
									<thead>
										<tr>
											<th>Stop #</th>
											<th>Location Type</th>
											<th>City</th>
											<th>State</th>
											<th>Zip</th>
											<th>Arrival Date</th>
											<th>Delete</th>
										</tr>
									</thead>
									<tbody>
										{% for location in form.locations %}
											<tr>
												<td>{{ location.stop_number() }} {{ loop.index}}</td>
												<td>{{ location.stop_type() }}</td>
												<td>{{ location.city() }}</td>
												<td>{{ location.state() }}</td>
												<td>{{ location.postal_code() }}</td>
												<td><input type="text" id="locations-{{ loop.index }}-arrival_date" name="locations-{{ loop.index }}-arrival_date" data-date-format="dd-mm-yyyy" data-date-viewmode="years" class="form-control date-picker" value="{{ location.arrival_date.data }}"></td>
												<td><a class="delete-row" href="">Delete</a></td>
											</tr>
										{% endfor %}
										<!--- Content created by table-data.js -->
									</tbody>
								</table>
							</div>
						</div>
					</div>

				</div>
				<hr>
				<div class="form-group">
					<div class="col-sm-2 col-sm-offset-3">
						<a class="btn btn-light-grey back-step btn-block" href="javascript:history.back()">
							<i class="fa fa-circle-arrow-left"></i> Cancel
						</a>
					</div>
					<div class="col-sm-2 col-sm-offset-3">
						<button type="submit" class="btn btn-success btn-block">
							Finish <i class="fa fa-arrow-circle-right"></i>
						</button>
					</div>
				</div>
			</div>
		</div>

</form>
		<!-- end: RIGHT SIDEBAR -->
		<!-- start: JAVASCRIPTS REQUIRED FOR THIS PAGE ONLY -->
		<script src="{{ static('backend/plugins/jquery-inputlimiter/jquery.inputlimiter.1.3.1.min.js') }}"></script>
		<script src="{{ static('backend/plugins/jquery-validation/dist/jquery.validate.min.js') }}"></script>
		<script src="{{ static('backend/plugins/jQuery-Smart-Wizard/js/jquery.smartWizard.js') }}"></script>
		<script src="{{ static('backend/js/form-wizard.js') }}"></script>
		<script src="{{ static('backend/plugins/autosize/jquery.autosize.min.js') }}"></script>
		<script src="{{ static('backend/plugins/select2/select2.min.js') }}"></script>
		<script src="{{ static('backend/plugins/jquery.maskedinput/src/jquery.maskedinput.js') }}"></script>
		<script src="{{ static('backend/plugins/jquery-maskmoney/jquery.maskMoney.js') }}"></script>
		<script src="{{ static('backend/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js') }}"></script>
		<script src="{{ static('backend/plugins/bootstrap-modal/js/bootstrap-modal.js') }}"></script>
		<script src="{{ static('backend/plugins/bootstrap-modal/js/bootstrap-modalmanager.js') }}"></script>
		<script src="{{ static('backend/js/ui-modals.js') }}"></script>
		<script type="text/javascript" src="{{ static('backend/plugins/bootbox/bootbox.min.js') }}"></script>
		<script type="text/javascript" src="{{ static('backend/plugins/jquery-mockjax/jquery.mockjax.js') }}"></script>
		<script type="text/javascript" src="{{ static('backend/plugins/select2/select2.min.js') }}"></script>
		<script type="text/javascript" src="{{ static('backend/plugins/DataTables/media/js/jquery.dataTables.min.js') }}"></script>
		<script type="text/javascript" src="{{ static('backend/plugins/DataTables/media/js/DT_bootstrap.js') }}"></script>
		<script src="{{ static('backend/js/table-data.js') }}"></script>

		<script>
			$( document ).on( "focus", "input.date-picker", function() {
				$('.date-picker').datepicker({
			            autoclose: true,
			            format: "mm/dd/yyyy",
						minDate: 0
			        });
			});
		</script>
		
				{% endblock %}
